[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib64/libthread_db.so.1".
[New Thread 0x7ffff7dc9640 (LWP 463)]
[New Thread 0x7ffff75c8640 (LWP 464)]
[Switching to Thread 0x7ffff7dc9640 (LWP 463)]

Thread 2 "vuln" hit Breakpoint 1, notifier_free (arg=0x0) at vulnerability_example.c:29
29	    memset(&sev, 0, sizeof(sev));
[Switching to Thread 0x7ffff75c8640 (LWP 464)]

Thread 3 "vuln" hit Breakpoint 2, notifier_reuse (arg=0x0) at vulnerability_example.c:49
49	    memset(&sev2, 0, sizeof(sev2));
[New Thread 0x7ffff6dc7640 (LWP 465)]
[Switching to Thread 0x7ffff7dc9640 (LWP 463)]

Thread 2 "vuln" hit Breakpoint 3, 0x00007ffff7fc0380 in mq_notify () from /lib64/librt.so.1

--- mq_notify called ---
$1 = {<text variable, no debug info>} 0x7ffff7ed66c0 <arg>
Invalid type combination in equality test.
Single stepping until exit from function mq_notify,
which has no line number information.
[Switching to Thread 0x7ffff75c8640 (LWP 464)]

Thread 3 "vuln" hit Breakpoint 3, 0x00007ffff7fc0380 in mq_notify () from /lib64/librt.so.1

--- mq_notify called ---
$2 = {<text variable, no debug info>} 0x7ffff7ed66c0 <arg>
Invalid type combination in equality test.
Single stepping until exit from function mq_notify,
which has no line number information.
[New Thread 0x7ffff65c5740 (LWP 466)]
[Switching to Thread 0x7ffff7dc9640 (LWP 463)]

Thread 2 "vuln" hit Breakpoint 3, 0x00007ffff7fc0380 in mq_notify () from /lib64/librt.so.1

--- mq_notify called ---
$3 = {<text variable, no debug info>} 0x7ffff7ed66c0 <arg>
Invalid type combination in equality test.
Single stepping until exit from function mq_notify,
which has no line number information.
[Switching to Thread 0x7ffff75c8640 (LWP 464)]

Thread 3 "vuln" hit Breakpoint 3, 0x00007ffff7fc0380 in mq_notify () from /lib64/librt.so.1

--- mq_notify called ---
$4 = {<text variable, no debug info>} 0x7ffff7ed66c0 <arg>
Invalid type combination in equality test.
Single stepping until exit from function mq_notify,
which has no line number information.

Thread 5 "vuln" received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7ffff65c5740 (LWP 466)]
0x00007ffff7e53654 in pthread_attr_destroy () from /lib64/libc.so.6
Single stepping until exit from function pthread_attr_destroy,
which has no line number information.
[Switching to Thread 0x7ffff7dc9640 (LWP 463)]
Cannot remove breakpoints because program is no longer writable.
Further execution is probably impossible.

Thread 2 hit Breakpoint 3, 0x00007ffff7fc0380 in mq_notify () from /lib64/librt.so.1

--- mq_notify called ---
Cannot access memory at address 0x7ffff7ed66c0
Single stepping until exit from function mq_notify,
which has no line number information.
Couldn't get registers: No such process.
Couldn't get registers: No such process.
